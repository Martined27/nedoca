<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Nedoca - Una Cocina para toda la VIDA">
    <title>Nedoca - Una Cocina para toda la VIDA</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Arial:wght@400;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Arial', sans-serif;
        }

        body {
            background-image: url('/assets/optimized/Fondo.webp');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            min-height: 100vh;
        }

        @supports not (background-image: url('/assets/optimized/Fondo.webp')) {
            body {
                background-image: url('/assets/Fondo.png');
            }
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            text-align: center;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);
        }

        .header {
            padding: 20px 0;
        }

        .logo {
            max-width: 400px;
            margin-bottom: 10px;
        }

        .promo-image {
            width: 100%;
            max-width: 800px;
            margin: 20px auto;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            display: block;
        }

        .promo-title {
            display: none;
            color: #0066a4;
            font-size: 28px;
            font-weight: bold;
            margin: 30px 0;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.1);
            line-height: 1.3;
        }

        .cta-container {
            margin: 40px 0;
        }

        .whatsapp-btn {
            display: inline-block;
            background-color: #25D366;
            color: white;
            font-size: 18px;
            font-weight: bold;
            padding: 15px 30px;
            border-radius: 30px;
            text-decoration: none;
            transition: all 0.3s ease;
            box-shadow: 0 4px 8px rgba(37, 211, 102, 0.3);
        }

        .whatsapp-btn:hover {
            background-color: #128C7E;
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(37, 211, 102, 0.4);
        }

        .whatsapp-icon {
            margin-right: 10px;
            vertical-align: middle;
        }

        .footer {
            margin-top: 40px;
            padding: 20px 0;
            color: #666;
            font-size: 14px;
        }

        .terms-link {
            color: #0066a4;
            text-decoration: underline;
            cursor: pointer;
        }

        .terms-link:hover {
            color: #004d7a;
        }

        .mobile-promo-image {
            display: none;
            width: 100%;
            max-width: 100%;
            margin: 10px auto;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            height: auto;
        }

        .registration-form {
            background: rgba(255, 255, 255, 0.95);
            padding: 30px;
            border-radius: 8px;
            margin: 30px auto;
            max-width: 600px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .registration-form h2 {
            color: #0066a4;
            margin-bottom: 20px;
            text-align: center;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group input,
        .form-group select {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 16px;
        }

        .form-group select {
            background-color: white;
            cursor: pointer;
        }

        .required-fields {
            color: #666;
            font-size: 14px;
            margin-bottom: 20px;
            text-align: right;
        }

        .file-label {
            display: block;
            margin-bottom: 8px;
            color: #666;
        }

        .file-label::after {
            content: " *";
            color: #ff0000;
        }

        .file-label:not([for="cocinaImage"])::after {
            content: " *";
            color: #ff0000;
        }

        .file-label[for="cocinaImage"]::after {
            content: " (opcional)";
            color: #666;
        }

        .submit-btn {
            background-color: #0066a4;
            color: white;
            padding: 15px 30px;
            border: none;
            border-radius: 30px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            width: 100%;
            transition: all 0.3s ease;
        }

        .submit-btn:hover {
            background-color: #004d7a;
            transform: translateY(-2px);
        }

        @media (max-width: 768px) {
            .container {
                padding: 15px;
                margin: 10px;
                padding-bottom: 60px;
                position: relative;
            }

            .logo {
                max-width: 240px;
            }

            .promo-image {
                display: none;
            }

            .mobile-promo-image {
                display: block;
                width: 100%;
                max-width: 100%;
                margin: 20px auto;
            }

            .whatsapp-btn {
                position: absolute;
                bottom: 325px;
                left: 50%;
                transform: translateX(-50%);
                padding: 12px 25px;
                font-size: 16px;
                width: 80%;
                max-width: 300px;
                z-index: 100;
            }

            .whatsapp-btn:hover {
                transform: translateX(-50%) translateY(-3px);
               
            }
        }
    </style>
</head>

<body>
    <div class="container">
        <header class="header">
        </header>

        <main>
            <picture>
                <source media="(min-width: 769px)" srcset="/assets/optimized/center-nedoca-2.webp">
                <source media="(max-width: 768px)" srcset="/assets/optimized/nedoca_mobile.webp">
                <img src="/assets/optimized/center-nedoca-2.webp" alt="Nedoca - Una Cocina para toda la VIDA"
                    class="promo-image" loading="lazy" width="800" height="800">
            </picture>

            <img src="/assets/optimized/nedoca_mobile.webp" alt="Nedoca - Una Cocina para toda la VIDA"
                class="mobile-promo-image" loading="lazy">

            <form id="registrationForm" class="registration-form">
                <h2>Formulario de Registro</h2>
                <div class="form-group">
                    <input type="text" id="nombre" name="nombre" required placeholder="Nombre completo *">
                </div>
                <div class="form-group">
                    <input type="text" id="cedula" name="cedula" required placeholder="Cédula *">
                </div>
                <div class="form-group">
                    <input type="tel" id="telefono" name="telefono" required placeholder="Teléfono *">
                </div>
                <div class="form-group">
                    <input type="email" id="email" name="email" placeholder="Correo electrónico">
                </div>
                <div class="form-group">
                    <input type="text" id="factura" name="factura" placeholder="Número de factura">
                </div>
                <div class="form-group">
                    <input type="text" id="comprobante" name="comprobante" placeholder="Número de comprobante (NFC, e-CF, ...)">
                </div>
                <div class="form-group">
                    <select id="zona" name="zona" required>
                        <option value="">Seleccione su zona *</option>
                        <option value="Norte">Norte</option>
                        <option value="Sur">Sur</option>
                        <option value="Este">Este</option>
                        <option value="Santo Domingo">Santo Domingo</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="facturaImage" class="file-label">Subir imagen de la factura *</label>
                    <input type="file" id="facturaImage" name="facturaImage" accept="image/*" required>
                </div>
                <div class="form-group">
                    <label for="cocinaImage" class="file-label">Subir imagen de tu cocina (opcional)</label>
                    <input type="file" id="cocinaImage" name="cocinaImage" accept="image/*">
                </div>
                <p class="required-fields">* Campos obligatorios</p>
                <button type="submit" class="submit-btn">Registrar</button>
            </form>

            <div class="cta-container">
                <a href="https://wa.me/+18292574817" class="whatsapp-btn">
                    <svg class="whatsapp-icon" width="24" height="24" viewBox="0 0 24 24" fill="white"
                        xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M20.4 3.6C18.2 1.3 15.2 0 12 0C5.5 0 0.1 5.4 0.1 11.9C0.1 14 0.8 16.1 1.9 17.8L0 24L6.3 22.1C8 23.1 9.9 23.7 12 23.7C18.5 23.7 24 18.3 24 11.8C24 8.6 22.7 5.9 20.4 3.6ZM12 21.7C10.2 21.7 8.4 21.2 6.8 20.2L6.5 20L2.8 21.1L3.9 17.5L3.7 17.2C2.6 15.5 2.1 13.7 2.1 11.9C2.1 6.5 6.6 2 12 2C14.7 2 17.2 3.1 19.1 5C21 6.9 22.1 9.4 22.1 11.9C22 17.2 17.4 21.7 12 21.7ZM17.4 14.4C17.1 14.2 15.6 13.5 15.3 13.4C15 13.3 14.8 13.2 14.6 13.5C14.4 13.8 13.8 14.5 13.6 14.7C13.4 14.9 13.2 15 12.9 14.8C11.3 14 10.3 13.4 9.2 11.6C8.9 11.1 9.5 11.1 10 10.1C10.1 9.9 10 9.7 9.9 9.5C9.8 9.3 9.3 7.8 9 7.2C8.8 6.6 8.5 6.7 8.3 6.7C8.1 6.7 7.9 6.7 7.7 6.7C7.5 6.7 7.1 6.8 6.8 7.1C6.5 7.4 5.7 8.1 5.7 9.6C5.7 11.1 6.8 12.5 6.9 12.7C7.1 12.9 9.2 16.2 12.4 17.5C14.4 18.4 15.1 18.4 16 18.3C16.6 18.2 17.8 17.6 18.1 16.9C18.4 16.2 18.4 15.6 18.3 15.5C18.2 15.3 18 15.2 17.4 14.4Z" />
                    </svg>
                    ¡Regístrate Aquí!
                </a>
            </div>
        </main>

        <footer class="footer">
            <p>© 2025 Nedoca. Todos los derechos reservados. </p>
            <p>La promocion es valida hasta el 31 de mayo de 2025</p>
            <p><a href="https://docs.google.com/document/d/1HT1shsOS-kXG6vocjAyGMmavneGU1ROA/edit?usp=drivesdk&ouid=104655815686240727964&rtpof=true&sd=true"
                    class="terms-link" target="_blank" rel="noopener noreferrer">Ver términos y condiciones</a></p>
        </footer>
    </div>
    <script>
        document.getElementById('registrationForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const formData = new FormData(this);
            const submitBtn = this.querySelector('.submit-btn');
            submitBtn.disabled = true;
            submitBtn.textContent = 'Enviando...';

            try {
                // Convert the form data to a JSON object
                const formObject = {};
                const filePromises = [];

                formData.forEach((value, key) => {
                    if (key === 'facturaImage' || key === 'cocinaImage') {
                        // Handle file uploads
                        if (value.size > 0) { // Only process if a file was selected
                            const file = value;
                            const reader = new FileReader();
                            const promise = new Promise((resolve) => {
                                reader.onload = function(e) {
                                    formObject[key] = e.target.result;
                                    resolve();
                                };
                                reader.readAsDataURL(file);
                            });
                            filePromises.push(promise);
                        }
                    } else {
                        formObject[key] = value;
                    }
                });

                // Wait for all file uploads to complete
                await Promise.all(filePromises);
                await submitToGoogleSheets(formObject);
            } catch (error) {
                console.error('Error:', error);
                alert('Hubo un error al enviar el formulario. Por favor, intente nuevamente.');
            } finally {
                submitBtn.disabled = false;
                submitBtn.textContent = 'Registrar';
            }
        });

        async function submitToGoogleSheets(data) {
            const scriptURL = 'https://script.google.com/macros/s/AKfycbz-Z3wPkSC7tGx6kwXH0Px1o_6tVidO3GoA2PaYAYKktVcz4kPE5c54U5Leuv9JvWo17w/exec';
            try {
                const response = await fetch(scriptURL, {
                    method: 'POST',
                    body: JSON.stringify(data),
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    mode: 'no-cors'
                });

                alert('¡Registro exitoso! Gracias por participar.');
                document.getElementById('registrationForm').reset();
            } catch (error) {
                console.error('Error:', error);
                alert('Hubo un error al enviar el formulario. Por favor, intente nuevamente.');
            }
        }
    </script>
</body>

</html>